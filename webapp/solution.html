<html>

<head>
	<base href="/">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<meta name="description" content="This Site Provides Interview Puzzles">
	<meta name="author" content="Satish Pahuja">
	<meta http-equiv="X-UA-Compatible" content="IE=EmulateIE7" />
	<title>Best Brain Teasers and Interview Puzzles</title>
	<!-- Bootstrap Core CSS -->
	<link href="/css/puzzle.css" rel="stylesheet" type="text/css">
	<!-- Custom CSS -->
	<link href="/css/bootstrap.css" rel="stylesheet" type="text/css">
</head>

<body ng-app="puzzleappsolution">

	<nav class="navbar navbar-inverse navbar-fixed-top" role="navigation">
		<div class="container">
			<!-- Brand and toggle get grouped for better mobile display -->
			<div class="navbar-header">
				<button type="button" class="navbar-toggle" data-toggle="collapse" data-target="#bs-example-navbar-collapse-1">
					<span class="sr-only">Toggle navigation</span> <span
						class="icon-bar"></span> <span class="icon-bar"></span> <span
						class="icon-bar"></span>
				</button>
				<a class="navbar-brand" ng-href="/">Brain
					Tease</a>
			</div>
			<!-- Collect the nav links, forms, and other content for toggling -->
			<div class="collapse navbar-collapse">
				<ul class="nav navbar-nav">
					<li><a href="#">About</a></li>
					<li><a href="#">Services</a></li>
					<li><a href="#">Contact</a></li>
				</ul>
			</div>
		</div>
	</nav>

	<div class="container">

		<div ng-controller="PuzzleSolution">

			<div class="row">
				<div class="col-md-7">
					<h4>
						<a href="{{urlPath}}">{{puzzle.puzzleHeading}}</a>
					</h4>
				</div>
				<div class="col-md-5"></div>
			</div>

			<div class="row">
				<div class="col-md-7">{{puzzle.puzzleQuestion}}</div>
				<div class="col-md-5"></div>
			</div>
			<div class="row">
				<div class="col-md-7">
					<br />
				</div>
				<div class="col-md-5"></div>
			</div>

			<div class="row">
				<div class="col-md-7">
					<a ng-click="togglePuzzleAnswer()" class="btn btn-info">{{viewSolutionToggleButtonText}}</a>
				</div>
				<div class="col-md-5"></div>
			</div>

			<div class="row">
				<div class="col-md-7">
					<br />
				</div>
				<div class="col-md-5"></div>
			</div>

			<div class="row" ng-show="viewSolutionToggle">
				<div class="col-md-7">
					<span ng-bind-html="puzzle.puzzleSolution | html"></span>
					<div class="col-md-5"></div>
				</div>
			</div>
		</div>
	</div>

	<div class="footer">
		<p>Copyright &copy; Brain Tease 2017</p>
	</div>

	<!-- jQuery -->
	<script src="/javascript/jquery.js"></script>

	<!-- Bootstrap Core JavaScript -->
	<script src="/javascript/bootstrap.js"></script>

	<script src="/javascript/angular.min.js"></script>

	<script src="/javascript/angular-route.js"></script>

	<script>
		var app = angular.module('puzzleappsolution', [], function ($locationProvider) {
			$locationProvider.html5Mode({
				enabled: true,
				rewriteLinks: false
			})
		});

		//  var app = angular.module('puzzleappsolution', []);

		app.controller('PuzzleSolution', function ($scope, $http, $window, $location) {
			$scope.urlPath = $location.path();
			var parameters = JSON.stringify({ "urlPath": $scope.urlPath });

			$http.post('https://puzzlesworld.herokuapp.com/getsolution', parameters, {
				headers: { 'Content-Type': 'application/json' }
			}).then(function (response) {
				if (response.data == "") {
					$window.location.href = 'http://localhost:8888/';
				} else {
					$scope.puzzle = response.data;
				}
			}).catch(function onError(response) {
				$window.location.href = 'http://localhost:8888/';
			});

			$scope.viewSolutionToggle = false;
			$scope.viewSolutionToggleButtonText = 'Think before you click!!';

			$scope.togglePuzzleAnswer = function () {
				$scope.viewSolutionToggle = !$scope.viewSolutionToggle
				if ($scope.viewSolutionToggle) {
					$scope.viewSolutionToggleButtonText = 'Hide Answer';
				} else {
					$scope.viewSolutionToggleButtonText = 'Think before you click!!';
				}
			}
		});

		app.filter('html', function ($sce) {
			return function (val) {
				return $sce.trustAsHtml(val);
			};
		});
	</script>
</body>

</html>